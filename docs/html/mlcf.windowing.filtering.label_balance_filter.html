
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>mlcf.windowing.filtering.label_balance_filter module &#8212; MLCF documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="mlcf.windowing.iterator package" href="mlcf.windowing.iterator.html" />
    <link rel="prev" title="mlcf.windowing.filtering.filter module" href="mlcf.windowing.filtering.filter.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="index.html">
<p class="title">MLCF</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="modules.html">
  mlcf
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/Guitheg/mlcf/tree/main/" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://pypi.org/project/MLCF/" rel="noopener" target="_blank" title="Pypi"><span><i class="fa fa-download"></i></span>
            <label class="sr-only">Pypi</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="mlcf.html">
   mlcf package
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="mlcf.datatools.html">
     mlcf.datatools package
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="mlcf.datatools.data_intervals.html">
       mlcf.datatools.data_intervals module
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="mlcf.datatools.data_reader.html">
       mlcf.datatools.data_reader module
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="mlcf.datatools.standardisation.html">
       mlcf.datatools.standardisation module
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="mlcf.datatools.utils.html">
       mlcf.datatools.utils module
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="mlcf.indicators.html">
     mlcf.indicators package
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="mlcf.indicators.add_indicators.html">
       mlcf.indicators.add_indicators module
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="mlcf.indicators.indicators_fct.html">
       mlcf.indicators.indicators_fct module
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="mlcf.windowing.html">
     mlcf.windowing package
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3 current active has-children">
      <a class="reference internal" href="mlcf.windowing.filtering.html">
       mlcf.windowing.filtering package
      </a>
      <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
      <label for="toctree-checkbox-5">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul class="current">
       <li class="toctree-l4">
        <a class="reference internal" href="mlcf.windowing.filtering.filter.html">
         mlcf.windowing.filtering.filter module
        </a>
       </li>
       <li class="toctree-l4 current active">
        <a class="current reference internal" href="#">
         mlcf.windowing.filtering.label_balance_filter module
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="mlcf.windowing.iterator.html">
       mlcf.windowing.iterator package
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
      <label for="toctree-checkbox-6">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="mlcf.windowing.iterator.forecast_iterator.html">
         mlcf.windowing.iterator.forecast_iterator module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="mlcf.windowing.iterator.iterator.html">
         mlcf.windowing.iterator.iterator module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="mlcf.windowing.iterator.tseries.html">
         mlcf.windowing.iterator.tseries module
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="mlcf.windowing.iterator.tseries_lite.html">
         mlcf.windowing.iterator.tseries_lite module
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                

<nav id="bd-toc-nav">
    
</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="module-mlcf.windowing.filtering.label_balance_filter">
<span id="mlcf-windowing-filtering-label-balance-filter-module"></span><h1>mlcf.windowing.filtering.label_balance_filter module<a class="headerlink" href="#module-mlcf.windowing.filtering.label_balance_filter" title="Permalink to this headline">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="mlcf.windowing.filtering.label_balance_filter.LabelBalanceFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mlcf.windowing.filtering.label_balance_filter.</span></span><span class="sig-name descname"><span class="pre">LabelBalanceFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_occ:</span> <span class="pre">typing.Optional[int]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_function:</span> <span class="pre">typing.Callable</span> <span class="pre">=</span> <span class="pre">&lt;bound</span> <span class="pre">method</span> <span class="pre">Random.sample</span> <span class="pre">of</span> <span class="pre">&lt;random.Random</span> <span class="pre">object&gt;&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mlcf.windowing.filtering.label_balance_filter.LabelBalanceFilter" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="mlcf.windowing.filtering.filter.html#mlcf.windowing.filtering.filter.WindowFilter" title="mlcf.windowing.filtering.filter.WindowFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">mlcf.windowing.filtering.filter.WindowFilter</span></code></a></p>
<p>Label balancing filter.</p>
<blockquote>
<div><p>It will even out the histogram of a labeled feature.</p>
<p>A labeled feature corresponds to the category of a value.
Example: Having the feature X defined in the interval -1 and 1,
if we decide to label this feature in 4 categories:
- Values between -1 and -0.5 belong to label 0,
- The values between -0.5 and 0 belong to the label 1,
- Values between 0 and 0.5 belong to label 2,
- Values between 0.5 and 1 belong to label 3.
0, 1, 2, 3 are labeled feature of X.</p>
<p>The histogram of these labeled features is constructed by taking into account the
last index of each window.</p>
<p>From a parameter called maximum occurrence, we select a number of lines so that the occurrence
of each labeled feature does not exceed said parameter.</p>
</div></blockquote>
<p>Translated with www.DeepL.com/Translator (free version)</p>
<blockquote>
<div><dl>
<dt>Attributes:</dt><dd><p>column (str): The filter will take only the values of this column in account</p>
<p>max_occ (int): The maximum number of count for each label after the filtering</p>
<p>sample_function (Callable): A callable function such as fct(list, k) -&gt; list_of_k_values</p>
</dd>
</dl>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="mlcf.windowing.filtering.label_balance_filter.LabelBalanceFilter.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.core.frame.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#mlcf.windowing.filtering.label_balance_filter.LabelBalanceFilter.__call__" title="Permalink to this definition">#</a></dt>
<dd><p>Given the time series dataframe and an index array corresponding to the time index in
each window, it returns a list of booleans indicating whether or not to take the window.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>) – The time series dataframe</p></li>
<li><p><strong>index_array</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">np.ndarray</span></code>) – The index array correspond to the windowed index dataframe.
It’s a 2-D array with first axis give the windows and the second axis gives the
row index in the time series dataframe.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of boolean indicating whether or not to take a window.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[bool]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mlcf.windowing.filtering.label_balance_filter.LabelBalanceFilter.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_occ:</span> <span class="pre">typing.Optional[int]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_function:</span> <span class="pre">typing.Callable</span> <span class="pre">=</span> <span class="pre">&lt;bound</span> <span class="pre">method</span> <span class="pre">Random.sample</span> <span class="pre">of</span> <span class="pre">&lt;random.Random</span> <span class="pre">object&gt;&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mlcf.windowing.filtering.label_balance_filter.LabelBalanceFilter.__init__" title="Permalink to this definition">#</a></dt>
<dd><p>Create a Label balancing filter object.</p>
<p>We need to give the column to know which one will be taken into account to equalize
the histogram.
We can define the maximum occurrence parameter.
Otherwise it will be determined automatically.
We can give a selection function that will determine the selection method of
the K windows such that K &lt; {max_occ} for each label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The label column on which the histogram is processed.</p></li>
<li><p><strong>max_occ</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional[int],</span> <span class="pre">optional</span></code>) – The maximum number of occurence for each labeled
feature. Defaults to None.</p></li>
<li><p><strong>sample_function</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Callable,</span> <span class="pre">optional</span></code>) – A selection function that respects this format: fct(list, k) -&gt; list_of_k_values.
Defaults to random.sample.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mlcf.windowing.filtering.label_balance_filter.LabelBalanceFilter.tag_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tag_name</span></span><a class="headerlink" href="#mlcf.windowing.filtering.label_balance_filter.LabelBalanceFilter.tag_name" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="mlcf.windowing.filtering.filter.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">mlcf.windowing.filtering.filter module</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="mlcf.windowing.iterator.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">mlcf.windowing.iterator package</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022, CGrbi.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>