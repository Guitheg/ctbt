<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mlcf.windowing.iterator.forecast_iterator module &mdash; MLCF documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="mlcf.windowing.iterator.iterator module" href="mlcf.windowing.iterator.iterator.html" />
    <link rel="prev" title="mlcf.windowing.iterator package" href="mlcf.windowing.iterator.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> MLCF
          </a>
              <div class="version">
                2.0.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">mlcf</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="mlcf.html">mlcf package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="mlcf.datatools.html">mlcf.datatools package</a></li>
<li class="toctree-l3"><a class="reference internal" href="mlcf.indicators.html">mlcf.indicators package</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="mlcf.windowing.html">mlcf.windowing package</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="mlcf.windowing.filtering.html">mlcf.windowing.filtering package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="mlcf.windowing.iterator.html">mlcf.windowing.iterator package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MLCF</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">mlcf</a> &raquo;</li>
          <li><a href="mlcf.html">mlcf package</a> &raquo;</li>
          <li><a href="mlcf.windowing.html">mlcf.windowing package</a> &raquo;</li>
          <li><a href="mlcf.windowing.iterator.html">mlcf.windowing.iterator package</a> &raquo;</li>
      <li>mlcf.windowing.iterator.forecast_iterator module</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-mlcf.windowing.iterator.forecast_iterator">
<span id="mlcf-windowing-iterator-forecast-iterator-module"></span><h1>mlcf.windowing.iterator.forecast_iterator module<a class="headerlink" href="#module-mlcf.windowing.iterator.forecast_iterator" title="Permalink to this headline"></a></h1>
<p>Window Forecast Iterator Module.</p>
<p>This module provide WindowForecastIterator which allows us to iterate over a WindowIterator with a
input window and a target window.</p>
<blockquote>
<div><p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># This class allow us to iterate over a WTSeries but the iteration</span>
<span class="c1"># (__getitem__) give us a tuple of 2</span>

<span class="kn">from</span> <span class="nn">mlcf.datatools.windowing.forecast_iterator</span> <span class="kn">import</span> <span class="n">WindowForecastIterator</span>

<span class="n">data_train</span> <span class="o">=</span> <span class="n">WindowForecastIterator</span><span class="p">(</span>
    <span class="n">wtseries</span><span class="p">,</span>
    <span class="n">input_width</span><span class="o">=</span><span class="mi">29</span><span class="p">,</span>
    <span class="n">target_width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>  <span class="c1"># The sum of the input_width and target_width must not exceed the</span>
                     <span class="c1"># window width</span>
                     <span class="c1"># of the wtseries</span>
    <span class="n">input_features</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;close&quot;</span><span class="p">,</span> <span class="s2">&quot;adx&quot;</span><span class="p">],</span>
    <span class="n">target_features</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;return&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">window</span> <span class="ow">in</span> <span class="n">data_train</span><span class="p">:</span>
    <span class="n">window_input</span><span class="p">,</span> <span class="n">window_target</span> <span class="o">=</span> <span class="n">window</span>
    <span class="k">pass</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mlcf.windowing.iterator.forecast_iterator.</span></span><span class="sig-name descname"><span class="pre">WindowForecastIterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">w_iterator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="mlcf.windowing.iterator.iterator.html#mlcf.windowing.iterator.iterator.WindowIterator" title="mlcf.windowing.iterator.iterator.WindowIterator"><span class="pre">mlcf.windowing.iterator.iterator.WindowIterator</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class use a WindowIterator in order to returns an input and a target window instead of a
single window.</p>
<dl class="py method">
<dt class="sig sig-object py" id="mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.__getitem__" title="Permalink to this definition"></a></dt>
<dd><p>Given an index return the corresponding pair of input window and target window.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>idx</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The index to selection the desired pair</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of input window and target window</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[np.ndarray, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">w_iterator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="mlcf.windowing.iterator.iterator.html#mlcf.windowing.iterator.iterator.WindowIterator" title="mlcf.windowing.iterator.iterator.WindowIterator"><span class="pre">mlcf.windowing.iterator.iterator.WindowIterator</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Create a WindowForecastIterator which give for each item an input window and
a target window.
The sum of the input window width and the target window width must not exceed
the WindowIterator window width.
If the sum of input window width and the target window width is not equal to the
WindowIterator window width then the difference between the sum and the window with
is considered as the offset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>w_iterator</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">WindowIterator</span></code>) – The window iterator used</p></li>
<li><p><strong>input_width</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The width of the input window</p></li>
<li><p><strong>target_width</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The width of the target window</p></li>
<li><p><strong>input_features</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional[List[str]],</span> <span class="pre">optional</span></code>) – The list of the selected features
for the input window. If None, then every feature of the WindowIterator are taken.
Defaults to None.</p></li>
<li><p><strong>target_features</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Optional[List[str]],</span> <span class="pre">optional</span></code>) – The list of selected features
for the target window. If None, then every feature of the WindowIterator are taken.
Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>AttributeError</strong> – If one of the feature gived in the input or target feature doesn’t
    belong to the features of the WindowIterator</p></li>
<li><p><strong>ValueError</strong> – If the sum of the input width and the target width is greater than the
    WindowIterator window width.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="mlcf.windowing.iterator.iterator.html#mlcf.windowing.iterator.iterator.WindowIterator" title="mlcf.windowing.iterator.iterator.WindowIterator"><span class="pre">mlcf.windowing.iterator.iterator.WindowIterator</span></a></em><a class="headerlink" href="#mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.data" title="Permalink to this definition"></a></dt>
<dd><p>A WindowIterator on which the window will be taken from.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.features">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">features</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.features" title="Permalink to this definition"></a></dt>
<dd><p>The list of features of the windows of {data}</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.input_features">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_features</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.input_features" title="Permalink to this definition"></a></dt>
<dd><p>The list of the selected features for the input window</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.input_width">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.input_width" title="Permalink to this definition"></a></dt>
<dd><p>The width of the input window</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.target_features">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">target_features</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.target_features" title="Permalink to this definition"></a></dt>
<dd><p>The list of the selected features for the target window</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.target_width">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">target_width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#mlcf.windowing.iterator.forecast_iterator.WindowForecastIterator.target_width" title="Permalink to this definition"></a></dt>
<dd><p>The width of the target window</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mlcf.windowing.iterator.html" class="btn btn-neutral float-left" title="mlcf.windowing.iterator package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mlcf.windowing.iterator.iterator.html" class="btn btn-neutral float-right" title="mlcf.windowing.iterator.iterator module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, CGrbi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>